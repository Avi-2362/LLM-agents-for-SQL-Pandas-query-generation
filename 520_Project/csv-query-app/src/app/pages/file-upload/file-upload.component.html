<!-- Navigation Bar -->
<div class="navbar">
  <div class="logo">
    <img src="assets/images/logo.png" alt="Logo" />
  </div>
  <div class="website-title">
    <h1>QueryGenAI</h1>
  </div>
  <div class="profile">
    <button class="signout-button" (click)="logout()">
      Sign Out
    </button>
  </div>
</div>


<!-- Main Content -->
<div class="container">
  <div class="left-section">
    <div class="file-info" *ngIf="fileData">
      <h3>Selected File</h3>
      <p>{{ fileData.name }}</p>
    </div>

    <h2>CSV Preview</h2>
    <p *ngIf="csvData.length === 0" class="no-data-message">
      No data to display. Upload a file to preview.
    </p>
    <div class="table-container" *ngIf="csvData.length > 0">
      <table>
        <thead>
          <tr>
            <th *ngFor="let col of cols">{{ col }}</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let row of csvData">
            <td *ngFor="let col of cols">{{ row[col] }}</td>
          </tr>
        </tbody>
      </table>
    </div>
    

    <!-- Chat Section at the Bottom -->
    <div class="chat-section">
      <div class="chat-input">
        <label for="textToSend">Text to send</label>
        <textarea id="textToSend" input [(ngModel)]="query" placeholder="Type or speak your message" ></textarea>
        
        <!-- <button (click)="stopVoiceInput()">â›”</button> -->
         <div class="chat-buttons">
          <button class="mic-button" (click)="startVoiceInput()">ðŸŽ¤</button>
          <button class="submit-button" (click)="onSubmitQuery()">Submit</button>
         </div>
        
      </div>
    </div>
  </div>

  <div class="right-section">
    <div class="query-options-container">
      <h3>Query Options</h3>
      <div class="query-options">
        <label>
          <input type="radio" name="queryType" value="SQL" [(ngModel)]="queryType" />
          SQL
        </label>
        <label>
          <input type="radio" name="queryType" value="Pandas" [(ngModel)]="queryType" />
          Pandas
        </label>
      </div>
    </div>

    <div class="result-section">
      <div class="query-result">
        <label>Query returned:</label>
        <p>{{ queryResult }}</p>
      </div>
      <h4>Query Results</h4>
      <div class="result-table-container" *ngIf="isResultTable">
        <table *ngIf="data.length" border="1">
          <thead>
            <tr>
              <th *ngFor="let header of headers">{{ header }}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let row of data">
              <td *ngFor="let header of headers">{{ row[header] }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>    
  </div>
</div>
